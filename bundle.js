(()=>{"use strict";const t=document.querySelector(".product__preview-img"),e=document.querySelector(".product__preview-items"),r=document.querySelectorAll(".product__preview-item"),i=document.querySelector(".popup"),c=document.querySelector(".popup__close"),n=document.querySelector(".popup__lightbox-items"),s=document.querySelectorAll(".popup__lightbox-item"),o=document.querySelector(".popup__lightbox-controls_btn_right"),u=document.querySelector(".popup__lightbox-controls_btn_left"),a=document.querySelector(".popup__lightbox-preview"),l=document.querySelector(".counter"),p=document.querySelector(".header__cart-counter");let m=document.querySelector(".counter__quantity");const _=document.querySelector(".product__preview-thumbnail").src,d=document.querySelector(".product__title").textContent,h=document.querySelector(".cart-popup"),v=document.querySelector(".cart-popup__main"),g=document.querySelector(".product__add-btn"),y=document.querySelector(".header__cart"),b=document.querySelector(".header__burger-btn"),q=document.querySelector(".header__burger-btn_line"),w=document.querySelector(".header__mobile-side-bar");b.addEventListener("click",(function(){q.classList.toggle("header__burger-btn_line_active"),w.classList.toggle("header__mobile-side-bar_active")}));let S={itemImg:_,itemName:d};(class{static sumCalculation(){let t=1,e=document.querySelector(".product__price-value").textContent;l.addEventListener("click",(r=>{if(r.target.classList.contains("counter__btn_plus")){if(t++,t>9)return t=9;let r=e*t;m.textContent=t,document.querySelector(".product__price-value").textContent=r+".00",S.productQuantity=t,S.total=r}if(r.target.classList.contains("counter__btn_minus")){if(t--,t<1)return t=0;let r=e*t;m.textContent=t,document.querySelector(".product__price-value").textContent=r+".00",S.productQuantity=t,S.total=r}})),0==t&&(S.productQuantity=1)}}).sumCalculation();class x{static renderCartItem(){let t="";for(const e in S)t=`<div class="cart-item">\n      <img class="cart-item__img" src="${S.itemImg}" alt="product-thumbnail">\n      <h2 class="cart-item__title">${S.itemName}</h2>\n      <p class="cart-item__price">$125.00<span> x ${S.productQuantity}</span></p>\n      <p class="cart-item__total-price">$${S.total}.00</p>\n      <button class="cart-item__remove-btn"></button>\n      </div>\n      </div>`,S.productQuantity>0&&(p.style.visibility="visible"),p.textContent=S.productQuantity;v.innerHTML=t}static removeCartItem(){v.addEventListener("click",(t=>{t.target.classList.contains("cart-item__remove-btn")&&(t.target.parentElement.remove(),S.productQuantity=0,p.textContent=S.productQuantity,v.innerHTML="<p class='cart-popup__main-empty'>Your cart is empty</p>")}))}}g.onclick=()=>{x.renderCartItem()},x.removeCartItem(),y.onclick=()=>{h.classList.toggle("_active")};class L{constructor(t,e,r,i,c,n){this.sellectorPreview=t,this.sellectorPreviewItms=e,this.parentThumnails=r,this.popup=i,this.popupCloseBtn=c,this.lightBoxPreview=n,this.srcImg=""}changePreview(){this.sellectorPreviewItms.addEventListener("click",(t=>{this.parentThumnails.forEach((t=>{t.classList.remove("product__preview-item_active")})),t.target.classList.contains("product__preview-thumbnail")&&(this.sellectorPreview.style.backgroundImage=`url('${t.target.dataset.src}')`,t.target.parentElement.classList.add("product__preview-item_active"),this.srcImg=t.target.dataset.src,this.lightBoxPreview.style.backgroundImage=`url('${this.srcImg}')`)}))}open(){this.sellectorPreview.onclick=()=>{this.popup.classList.add("popup_active")}}close(){this.popupCloseBtn.onclick=()=>{this.popup.classList.remove("popup_active")}}}const C=new L(t,e,r,i,c,a);C.changePreview(),C.open(),C.close();const P=new class extends L{constructor(t,e,r,i,c){super(t,e,r),this.sliderNextBtn=i,this.sliderPrevBtn=c,this.count=0}changePreview(){return super.changePreview()}next(){this.sliderNextBtn.onclick=()=>{this.count+1<this.parentThumnails.length?this.count++:this.count=0;for(let t=0;t<this.parentThumnails.length;t++)this.parentThumnails[t].classList.remove("product__preview-item_active");this.parentThumnails[this.count].classList.add("product__preview-item_active"),this.sellectorPreview.style.backgroundImage=`url('${this.parentThumnails[this.count].querySelector(".popup__lightbox-item_thumbnail").dataset.src}')`}}prev(){this.sliderPrevBtn.onclick=()=>{this.count-1<this.parentThumnails.length&&this.count--,this.count<=-1&&(this.count=this.parentThumnails.length-1);for(let t=0;t<this.parentThumnails.length;t++)this.parentThumnails[t].classList.remove("product__preview-item_active");this.parentThumnails[this.count].classList.add("product__preview-item_active"),this.sellectorPreview.style.backgroundImage=`url('${this.parentThumnails[this.count].querySelector(".popup__lightbox-item_thumbnail").dataset.src}')`}}}(a,n,s,o,u);P.changePreview(),P.next(),P.prev()})();